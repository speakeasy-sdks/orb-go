// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package shared

import (
	"encoding/json"
	"fmt"
)

// PlanPhaseDurationUnit - Term for this plan, which is the maximum cadence among all component prices
type PlanPhaseDurationUnit string

const (
	PlanPhaseDurationUnitMonthly   PlanPhaseDurationUnit = "monthly"
	PlanPhaseDurationUnitQuarterly PlanPhaseDurationUnit = "quarterly"
	PlanPhaseDurationUnitAnnual    PlanPhaseDurationUnit = "annual"
)

func (e PlanPhaseDurationUnit) ToPointer() *PlanPhaseDurationUnit {
	return &e
}

func (e *PlanPhaseDurationUnit) UnmarshalJSON(data []byte) error {
	var v string
	if err := json.Unmarshal(data, &v); err != nil {
		return err
	}
	switch v {
	case "monthly":
		fallthrough
	case "quarterly":
		fallthrough
	case "annual":
		*e = PlanPhaseDurationUnit(v)
		return nil
	default:
		return fmt.Errorf("invalid value for PlanPhaseDurationUnit: %v", v)
	}
}

// PlanPhase - A plan can optionally consist of plan phases, which represents a pricing configuration that's only active for the length of time specified by `duration` and `duration_unit`. All plans must have an evergreen phase, which is the last phase and active indefinitely.
type PlanPhase struct {
	Description *string  `json:"description,omitempty"`
	Discount    Discount `json:"discount"`
	// How many terms of length `duration_unit` this phase is active for. If null, this phase is evergreen and active indefinitely
	Duration *int64 `json:"duration,omitempty"`
	// Term for this plan, which is the maximum cadence among all component prices
	DurationUnit PlanPhaseDurationUnit `json:"duration_unit"`
	Minimum      MinimumAmount         `json:"minimum"`
	Name         *string               `json:"name,omitempty"`
	// Determines the ordering of the phase in a plan's lifecycle. 1 = first phase.
	Order *int64 `json:"order,omitempty"`
}
